# R101协议说明
文档日期:2020.6.9

软件版本：**V0.1.3**

协议类别：modbus 和 私有协议

硬件接口：RS485

默认通讯参数：9600 8 N 1（9600波特率时，建议请求间隔>500ms）

## 1.modbus
支持**03**，**04**，**06**功能码。
### 1.1 输入寄存器
| 序号 | 地址 | 输入寄存器                     | 说明               |
| ---- | ---- | ------------------------------ | ------------------------------ |
|      | 0    | Z轴基频        | （样品默认0，1） |
|      | 1    | Z轴加速度峰值   |    （m/ss , X100）|
|      | 2    | Z轴加速度有效值 |  （m/ss , X100）|
|      | 3    | Z轴速度有效值   |  （mm/s , X100）  |
|      | 4    | Z轴位移峰峰值    |   （um ， X100）  |
|      | 5    | Z峭度指标             |    （X100）            |
|      | 6    | Z轴包络                |    （暂无）             |
|      | ...  |                                |                                |
|      | 10    | X轴基频        | （样品默认0，1） |
|      | 11    | X轴加速度峰值   |    （m/ss , X100）|
|      | 12    | X轴加速度有效值 |  （m/ss , X100）|
|      | 13    | X轴速度有效值   |  （mm/s , X100）  |
|      | 14    | X轴位移峰峰值    |   （um ， X100）  |
|      | 15    | X峭度指标             |    （X100）            |
|      | 16    | X轴包络                |    （暂无）             |
|      |  ...    |                                |                                |
|      | 20    | Y轴基频        | （样品默认0，1） |
|      | 21    | Y轴加速度峰值   |    （m/ss , X100）|
|      | 22    | Y轴加速度有效值 |  （m/ss , X100）|
|      | 23    | Y轴速度有效值   |  （mm/s , X100）  |
|      | 24    | Y轴位移峰峰值    |   （um ， X100）  |
|      | 25    | Y峭度指标             |    （X100）            |
|      | 26    | Y轴包络                |    （暂无）             |
|      | ...  |                                |                                |
|      |  30    | 温度                            |                                暂无|
|      | ... |  |                                |
|      | 97 | 大版本号 |                                |
|      | 98 | 中版本号 |                                |
|      | 99 | 小版本号 |                                |
|      | 100 | Z轴波形 |                                |
|      | ... |                                |                                |
|      | 2100 | X轴波形 |                                |
|      | ... |                                |                                |
|      | 4100 | Y轴波形 |                                |
|      |      |                                |                                |
|      |      |                                |                                |
|      |      |                                |                                |
|      |      |                                |                                |

### 1.2 保持寄存器
| 序号 | 地址 | 输入寄存器                     | 说明               |
| ---- | ---- | ------------------------------ | ------------------------------ |
|      | 0    | 从机地址   |      |
| | 1    | SN[0] |      |
| | 2    | SN[1] |      |
| | 3    | SN[2] |      |
| | 4    | SN[3] |      |
| | 5    | SN[4] |      |
| | 6    | SN[5] |      |
| | 7    | SN[6] |      |
| | 8    | SN[7] |      |
| | 9 | Z轴灵敏度 |      |
| | 10 | X轴灵敏度 |      |
| | 11 | Y轴灵敏度 |      |
| | 12 | FFT_LowPass |      |
| | 13 | FFT_highPass |      |
| | 14 | FFT_LowPass |      |
| | 15 | FFT_HighPass |      |
| | 16 | 温度补偿值 |      |
| | 17 | 波形记录间隔 |      |
| |      |            |      |
| |      |            |      |
| |      |            |      |
| |      |            |      |
| |      |            |      |
| |      |            |      |

## 2.私有协议
（待补充）